# Git & ë„¤ì´ë° ì»¨ë²¤ì…˜

## ë¸Œëœì¹˜ ë„¤ì´ë° ê·œì¹™

### í˜•ì‹

```
<type>/<ê°„ë‹¨í•œ_ì„¤ëª…>-#<issue_number>
```

### íƒ€ì…

| Type       | ì„¤ëª…        | ì˜ˆì‹œ                        |
| ---------- | ----------- | --------------------------- |
| `feat`     | ìƒˆë¡œìš´ ê¸°ëŠ¥ | `feat/portfolio-crud-#15`   |
| `fix`      | ë²„ê·¸ ìˆ˜ì •   | `fix/auth-token-expire-#23` |
| `refactor` | ë¦¬íŒ©í† ë§    | `refactor/user-service-#8`  |
| `hotfix`   | ê¸´ê¸‰ ìˆ˜ì •   | `hotfix/login-error-#45`    |
| `chore`    | ë¹Œë“œ, ì„¤ì •  | `chore/docker-setup-#5`     |
| `docs`     | ë¬¸ì„œ ì‘ì—…   | `docs/api-spec-#12`         |

### ê·œì¹™

- ì†Œë¬¸ì ì‚¬ìš©
- ë‹¨ì–´ êµ¬ë¶„ì€ í•˜ì´í”ˆ(`-`)
- Issue ë²ˆí˜¸ í•„ìˆ˜ í¬í•¨

## ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜

### í˜•ì‹

```
<type>: <subject> (#<issue_number>)

<body>
```

### íƒ€ì…

| Type       | ì„¤ëª…                                        |
| ---------- | ------------------------------------------- |
| `feat`     | ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€                            |
| `fix`      | ë²„ê·¸ ìˆ˜ì •                                   |
| `docs`     | ë¬¸ì„œ ìˆ˜ì •                                   |
| `style`    | ì½”ë“œ í¬ë§·íŒ…, ì„¸ë¯¸ì½œë¡  ëˆ„ë½ ë“± (ê¸°ëŠ¥ ë³€ê²½ X) |
| `refactor` | ì½”ë“œ ë¦¬íŒ©í† ë§                               |
| `test`     | í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€/ìˆ˜ì •                       |
| `chore`    | ë¹Œë“œ ì„¤ì •, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ë“±                 |
| `rename`   | íŒŒì¼/í´ë” ì´ë¦„ ë³€ê²½ ë˜ëŠ” ì´ë™               |
| `remove`   | íŒŒì¼ ì‚­ì œ                                   |

### ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™

1. **ì œëª©ì€ 50ì ì´ë‚´**
2. **ì œëª© ëì— ë§ˆì¹¨í‘œ ì—†ìŒ**
3. **ì œëª©ì€ ëª…ë ¹ë¬¸ìœ¼ë¡œ ì‘ì„±** (í•œê¸€: ~êµ¬í˜„, ~ìˆ˜ì •, ~ì¶”ê°€)
4. **ë³¸ë¬¸ì€ 72ìë§ˆë‹¤ ì¤„ë°”ê¿ˆ**
5. **ë³¸ë¬¸ì— What, Why ì„¤ëª…**

### ì˜ˆì‹œ

```bash
# ì¢‹ì€ ì˜ˆì‹œ
git commit -m "feat: í¬íŠ¸í´ë¦¬ì˜¤ ìƒì„± API êµ¬í˜„ (#15)

- POST /portfolios ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
- CreatePortfolioDto ì •ì˜
- Swagger ë¬¸ì„œ ì—…ë°ì´íŠ¸"

# ê°„ë‹¨í•œ ì»¤ë°‹
git commit -m "fix: í† í° ë§Œë£Œ ì‹œê°„ ì˜¤ë¥˜ ìˆ˜ì • (#23)"

# ë¬¸ì„œ ìˆ˜ì •
git commit -m "docs: API ëª…ì„¸ì„œ ì—…ë°ì´íŠ¸ (#12)"
```

### ê¸ˆì§€ ì‚¬í•­

AIê°€ ìƒì„±í–ˆë‹¤ëŠ” í‘œì‹œ **ì ˆëŒ€ ê¸ˆì§€**:

```bash
# ì ˆëŒ€ ì‚¬ìš© ê¸ˆì§€
Co-Authored-By: Claude <noreply@anthropic.com>
ğŸ¤– Generated with Claude Code
Generated by AI
```

## ì´ìŠˆ ì œëª© ì»¨ë²¤ì…˜

### í˜•ì‹

```
[TYPE] ì„¤ëª…
```

### ì˜ˆì‹œ

```
[Feat] í¬íŠ¸í´ë¦¬ì˜¤ CRUD API êµ¬í˜„
[Fix] ë¡œê·¸ì¸ í† í° ê°±ì‹  ì˜¤ë¥˜ ìˆ˜ì •
[Refactor] ì‚¬ìš©ì ì„œë¹„ìŠ¤ ë¦¬íŒ©í† ë§
[Chore] Docker ì„¤ì • ì¶”ê°€
[Docs] API ë¬¸ì„œ ì—…ë°ì´íŠ¸
```

## PR ì œëª© ì»¨ë²¤ì…˜

### í˜•ì‹

```
TYPE: ì„¤ëª… (#ì´ìŠˆë²ˆí˜¸)
```

### ì˜ˆì‹œ

```
Feat: í¬íŠ¸í´ë¦¬ì˜¤ CRUD API êµ¬í˜„ (#15)
Fix: ë¡œê·¸ì¸ í† í° ê°±ì‹  ì˜¤ë¥˜ ìˆ˜ì • (#23)
Refactor: ì‚¬ìš©ì ì„œë¹„ìŠ¤ ë¦¬íŒ©í† ë§ (#8)
Chore: Docker ì„¤ì • ì¶”ê°€ (#5)
Docs: API ë¬¸ì„œ ì—…ë°ì´íŠ¸ (#12)
```

## í´ë” ë„¤ì´ë°

### 1. ë„ë©”ì¸(ëª¨ë“ˆ) ì´ë¦„: **ë‹¨ìˆ˜í˜• (Singular)**

í•˜ë‚˜ì˜ ë„ë©”ì¸ ê°œë…ì„ ë‚˜íƒ€ë‚´ëŠ” í´ë”ëŠ” **ë‹¨ìˆ˜**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
`UserModule`, `UserService`ë¼ê³  ë¶€ë¥´ì§€ `UsersService`ë¼ê³  ë¶€ë¥´ì§€ ì•ŠëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤.

```
âœ… src/modules/user
âœ… src/modules/auth
âœ… src/modules/portfolio

âš ï¸ src/modules/users      # REST API ê²½ë¡œê°€ /usersë¼ê³  í•´ì„œ í´ë”ê¹Œì§€ ë³µìˆ˜ë¡œ í•˜ë©´ ì–´ìƒ‰í•¨
```

### 2. ì•„í‚¤í…ì²˜ ë ˆì´ì–´ ì´ë¦„: **ë‹¨ìˆ˜í˜• (Singular)**

"íŠ¹ì • ê³„ì¸µ ê·¸ ìì²´"ë¥¼ ì˜ë¯¸í•˜ë¯€ë¡œ **ë‹¨ìˆ˜**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```
âœ… domain          # ë„ë©”ì¸ ê³„ì¸µ
âœ… application     # ì‘ìš© ê³„ì¸µ
âœ… infrastructure  # (ë˜ëŠ” infra)
âœ… presentation    # (ë˜ëŠ” interface)
```

### 3. êµ¬ì„± ìš”ì†Œ ëª¨ìŒ í´ë”: **ë³µìˆ˜í˜• (Plural)**

íŠ¹ì • ì—­í• ì„ í•˜ëŠ” **íŒŒì¼ë“¤ì´ ì—¬ëŸ¬ ê°œ ëª¨ì—¬ ìˆëŠ” í´ë”**ëŠ” **ë³µìˆ˜í˜•**ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```
âœ… dtos           # CreateUserDto, UpdateUserDto ë“± ì—¬ëŸ¬ ê°œ
âœ… entities       # User, UserProfile ë“± ì—¬ëŸ¬ ì—”í‹°í‹°
âœ… exceptions     # ì—¬ëŸ¬ ì—ëŸ¬ ì •ì˜
âœ… utils
âœ… decorators
âœ… guards
âœ… interceptors
âœ… filters
```

### ì „ì²´ êµ¬ì¡° ì˜ˆì‹œ

```
src/modules/user/           # ë‹¨ìˆ˜ (ë„ë©”ì¸)
â”œâ”€â”€ domain/                 # ë‹¨ìˆ˜ (ê³„ì¸µ)
â”‚   â”œâ”€â”€ entities/           # ë³µìˆ˜ (êµ¬ì„± ìš”ì†Œ ëª¨ìŒ)
â”‚   â””â”€â”€ repositories/       # ë³µìˆ˜
â”œâ”€â”€ application/            # ë‹¨ìˆ˜ (ê³„ì¸µ)
â”‚   â”œâ”€â”€ services/           # ë³µìˆ˜
â”‚   â””â”€â”€ dtos/               # ë³µìˆ˜
â””â”€â”€ presentation/           # ë‹¨ìˆ˜ (ê³„ì¸µ)
    â””â”€â”€ controllers/        # ë³µìˆ˜
```

## íŒŒì¼ ë„¤ì´ë°

### ê·œì¹™

| ìœ í˜•        | í˜•ì‹               | ì˜ˆì‹œ                        |
| ----------- | ------------------ | --------------------------- |
| Controller  | `*.controller.ts`  | `user.controller.ts`        |
| Service     | `*.service.ts`     | `user.service.ts`           |
| Module      | `*.module.ts`      | `user.module.ts`            |
| Entity      | `*.entity.ts`      | `user.entity.ts`            |
| DTO         | `*.dto.ts`         | `create-user.dto.ts`        |
| Interface   | `*.interface.ts`   | `user.interface.ts`         |
| Guard       | `*.guard.ts`       | `jwt-auth.guard.ts`         |
| Decorator   | `*.decorator.ts`   | `current-user.decorator.ts` |
| Filter      | `*.filter.ts`      | `http-exception.filter.ts`  |
| Interceptor | `*.interceptor.ts` | `transform.interceptor.ts`  |
| Spec        | `*.spec.ts`        | `user.service.spec.ts`      |
| E2E         | `*.e2e-spec.ts`    | `user.e2e-spec.ts`          |

### ë³µí•©ì–´ íŒŒì¼ëª…

ì¼€ë°¥ ì¼€ì´ìŠ¤ ì‚¬ìš©:

```
create-user.dto.ts
jwt-auth.guard.ts
http-exception.filter.ts
```

## Docker ë¹Œë“œ ê°€ì´ë“œ

### pnpm ë²„ì „ ê´€ë¦¬

Dockerfileì˜ pnpm ë²„ì „ì€ ë¡œì»¬ ê°œë°œ í™˜ê²½ê³¼ ì¼ì¹˜ì‹œì¼œì•¼ í•©ë‹ˆë‹¤:

```dockerfile
# package.jsonì˜ packageManager í•„ë“œ í™•ì¸ í›„ ë™ì¼í•œ ë²„ì „ ì‚¬ìš©
RUN corepack enable && corepack prepare pnpm@10.28.0 --activate
```

### npm scriptsì˜ CI í™˜ê²½ ëŒ€ì‘

Git hooks ê´€ë¦¬ ë„êµ¬(husky ë“±)ëŠ” `.git` í´ë”ê°€ ì—†ëŠ” CI/Docker í™˜ê²½ì—ì„œ ì‹¤íŒ¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
`prepare` ìŠ¤í¬ë¦½íŠ¸ëŠ” `.git` í´ë” ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤:

```json
{
    "scripts": {
        "prepare": "node -e \"if (require('fs').existsSync('.git')) { require('child_process').execSync('husky', {stdio: 'inherit'}) }\""
    }
}
```

**ì£¼ì˜ì‚¬í•­:**

- `.dockerignore`ì— `.git`ì´ í¬í•¨ë˜ì–´ ìˆì–´ Docker ì»¨í…Œì´ë„ˆì—ëŠ” Git ì •ë³´ê°€ ì—†ìŒ
- `pnpm install` ì‹¤í–‰ ì‹œ `prepare` ìŠ¤í¬ë¦½íŠ¸ê°€ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ë¯€ë¡œ ì¡°ê±´ë¶€ ì²˜ë¦¬ í•„ìˆ˜
- `.git`ì´ ìˆëŠ” í™˜ê²½ì—ì„œëŠ” husky ì‹¤í–‰ ì˜¤ë¥˜ê°€ ì •ìƒì ìœ¼ë¡œ ì „íŒŒë˜ì–´ ì„¤ì • ë¬¸ì œë¥¼ ì¦‰ì‹œ ë°œê²¬ ê°€ëŠ¥

### ë¡œì»¬ Docker ë¹Œë“œ í…ŒìŠ¤íŠ¸

PR ìƒì„± ì „ ë¡œì»¬ì—ì„œ Docker ë¹Œë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”:

```bash
# ë¹Œë“œ í…ŒìŠ¤íŠ¸
docker build -t folioo-server .

# ì „ì²´ ë‹¨ê³„ í…ŒìŠ¤íŠ¸ (DB í¬í•¨)
docker compose up -d
```

## ì½”ë“œ ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸

PR ìƒì„± ì „ í™•ì¸ì‚¬í•­:

- [ ] ë¸Œëœì¹˜ëª…ì´ ì»¨ë²¤ì…˜ì„ ë”°ë¥´ëŠ”ê°€?
- [ ] ì»¤ë°‹ ë©”ì‹œì§€ê°€ ì»¨ë²¤ì…˜ì„ ë”°ë¥´ëŠ”ê°€?
- [ ] ê´€ë ¨ Issueê°€ ì—°ê²°ë˜ì–´ ìˆëŠ”ê°€?
- [ ] ë¡œì»¬ì—ì„œ ë¹Œë“œ/í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ëŠ”ê°€?
- [ ] Docker ë¹Œë“œê°€ ì„±ê³µí•˜ëŠ”ê°€? (Dockerfile ë³€ê²½ ì‹œ)
- [ ] ë¶ˆí•„ìš”í•œ console.logê°€ ì—†ëŠ”ê°€?
- [ ] ì½”ë“œ í¬ë§·íŒ…ì´ ì ìš©ë˜ì—ˆëŠ”ê°€?
